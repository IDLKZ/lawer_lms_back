# üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±–ª–∞—á–Ω—ã—Ö LLM (OpenRouter, OpenAI, Groq)

## üìã –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∞–∫ –ª–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ Ollama, —Ç–∞–∫ –∏ –æ–±–ª–∞—á–Ω—ã–µ LLM —á–µ—Ä–µ–∑ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã:
- **Ollama** - –ª–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ (llama3, mixtral –∏ —Ç.–¥.)
- **OpenRouter** - –¥–æ—Å—Ç—É–ø –∫ –º–Ω–æ–∂–µ—Å—Ç–≤—É –º–æ–¥–µ–ª–µ–π (GPT-4, Claude, Llama –∏ –¥—Ä.)
- **OpenAI** - –ø—Ä—è–º–æ–µ API OpenAI (GPT-4, GPT-3.5)
- **Groq** - –±—ã—Å—Ç—Ä—ã–π –∏–Ω—Ñ–µ—Ä–µ–Ω—Å –¥–ª—è Llama, Mixtral
- **–õ—é–±–æ–π OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π API**

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è OpenRouter (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

#### –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://openrouter.ai
2. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á –≤ —Ä–∞–∑–¥–µ–ª–µ Keys
3. –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å (–æ—Ç $1)

#### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env —Ñ–∞–π–ª
```bash
# LLM Settings
LLM_PROVIDER=openrouter
LLM_MODEL=meta-llama/llama-3.1-70b-instruct
LLM_TEMPERATURE=0.1

# Cloud LLM Settings
LLM_BASE_URL=https://openrouter.ai/api/v1
LLM_API_KEY=sk-or-v1-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

#### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```bash
uvicorn app.main:app --reload
```

### 2. –î—Ä—É–≥–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã

#### OpenAI
```bash
LLM_PROVIDER=openai
LLM_MODEL=gpt-4-turbo
LLM_BASE_URL=https://api.openai.com/v1
LLM_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

#### Groq (–±—ã—Å—Ç—Ä—ã–π inference)
```bash
LLM_PROVIDER=groq
LLM_MODEL=llama-3.1-70b-versatile
LLM_BASE_URL=https://api.groq.com/openai/v1
LLM_API_KEY=gsk_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

| –ü—Ä–æ–≤–∞–π–¥–µ—Ä | –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ | –ú–æ–¥–µ–ª–∏ | –¶–µ–Ω–∞ |
|-----------|-------------|---------|------|
| **OpenRouter** | –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –º–æ–¥–µ–ª–µ–π, –≥–∏–±–∫–æ—Å—Ç—å | GPT-4, Claude 3.5, Llama 3.1 70B/405B, Mixtral | –û—Ç $0.06/1M —Ç–æ–∫–µ–Ω–æ–≤ |
| **OpenAI** | –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å | GPT-4, GPT-3.5 Turbo | –û—Ç $0.50/1M —Ç–æ–∫–µ–Ω–æ–≤ |
| **Groq** | –û—á–µ–Ω—å –±—ã—Å—Ç—Ä—ã–π inference | Llama 3.1 70B, Mixtral 8x7B | –û—Ç $0.05/1M —Ç–æ–∫–µ–Ω–æ–≤ |
| **Ollama** | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ, –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å | Llama 3.1 8B, Mixtral 7B | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (—Ç—Ä–µ–±—É–µ—Ç –º–æ—â–Ω—ã–π –ü–ö) |

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –º–æ–¥–µ–ª–∏

### –î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:

#### –ë—é–¥–∂–µ—Ç–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
```bash
LLM_PROVIDER=openrouter
LLM_MODEL=meta-llama/llama-3.1-70b-instruct  # $0.18/1M —Ç–æ–∫–µ–Ω–æ–≤
```

#### –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
```bash
LLM_PROVIDER=openrouter
LLM_MODEL=anthropic/claude-3.5-sonnet  # $3/1M —Ç–æ–∫–µ–Ω–æ–≤
```

#### –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
```bash
LLM_PROVIDER=openrouter
LLM_MODEL=meta-llama/llama-3.1-405b-instruct  # $2.70/1M —Ç–æ–∫–µ–Ω–æ–≤
```

#### –°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π
```bash
LLM_PROVIDER=groq
LLM_MODEL=llama-3.1-70b-versatile  # –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ, $0.59/1M —Ç–æ–∫–µ–Ω–æ–≤
```

## üîÑ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ .env (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```bash
LLM_PROVIDER=openrouter  # –∏–ª–∏ ollama, openai, groq
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
export LLM_PROVIDER=openrouter
export LLM_MODEL=meta-llama/llama-3.1-70b-instruct
export LLM_API_KEY=sk-or-v1-...
export LLM_BASE_URL=https://openrouter.ai/api/v1
```

## üí∞ –û—Ü–µ–Ω–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏

–ü—Ä–∏–º–µ—Ä–Ω—ã–π —Ä–∞—Å—á–µ—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ 1 –ø—Ä–æ–∫—É—Ä–æ—Ä—Å–∫–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è:

| –†–∞–∑–º–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞ | –ü—Ä–∏–º–µ—Ä–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã | Llama 3.1 70B | Claude 3.5 | GPT-4 Turbo |
|------------------|------------------|---------------|------------|-------------|
| 1-2 —Å—Ç—Ä–∞–Ω–∏—Ü—ã | ~2,000 | $0.0004 | $0.006 | $0.002 |
| 5-10 —Å—Ç—Ä–∞–Ω–∏—Ü | ~10,000 | $0.002 | $0.03 | $0.01 |
| 20+ —Å—Ç—Ä–∞–Ω–∏—Ü | ~30,000 | $0.006 | $0.09 | $0.03 |

**–í—ã–≤–æ–¥**: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∏–ø–∏—á–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –Ω–∞ 5 —Å—Ç—Ä–∞–Ω–∏—Ü —Å—Ç–æ–∏—Ç ~$0.002-0.03 –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –º–æ–¥–µ–ª–∏.

## üõ†Ô∏è –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### .env —Ñ–∞–π–ª
```bash
# Database
DATABASE_URL=postgresql://user:password@localhost:5432/lms

# Auth
SECRET_KEY=your_secret_key_here
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ============================================
# LLM Configuration
# ============================================

# –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä: ollama, openrouter, openai, groq
LLM_PROVIDER=openrouter

# –ù–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏
LLM_MODEL=meta-llama/llama-3.1-70b-instruct

# –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (0.0-1.0, –º–µ–Ω—å—à–µ = –±–æ–ª–µ–µ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ)
LLM_TEMPERATURE=0.1

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ Ollama (–µ—Å–ª–∏ LLM_PROVIDER=ollama)
OLLAMA_URL=http://localhost:11434

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –æ–±–ª–∞—á–Ω—ã—Ö LLM
LLM_BASE_URL=https://openrouter.ai/api/v1
LLM_API_KEY=sk-or-v1-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# CORS
CORS_ORIGINS=*
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤—ã —É–≤–∏–¥–∏—Ç–µ:

### –õ–æ–∫–∞–ª—å–Ω—ã–π Ollama:
```
‚úì Ollama connection successful at http://localhost:11434
‚úì Available models: llama3, mistral, codellama
‚úì Model 'llama3' is available and ready to use
```

### –û–±–ª–∞—á–Ω—ã–π LLM:
```
‚úì Cloud LLM connection successful (openrouter)
‚úì Using base URL: https://openrouter.ai/api/v1
‚úì Model 'meta-llama/llama-3.1-70b-instruct' is ready to use
```

## üìù –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π

### OpenRouter (https://openrouter.ai/models)

#### Meta Llama (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –∫–∞–∑–∞—Ö—Å–∫–æ–≥–æ/—Ä—É—Å—Å–∫–æ–≥–æ)
- `meta-llama/llama-3.1-405b-instruct` - –°–∞–º–∞—è –º–æ—â–Ω–∞—è
- `meta-llama/llama-3.1-70b-instruct` - –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ü–µ–Ω–∞/–∫–∞—á–µ—Å—Ç–≤–æ
- `meta-llama/llama-3.1-8b-instruct` - –ë—ã—Å—Ç—Ä–∞—è –∏ –¥–µ—à–µ–≤–∞—è

#### Anthropic Claude
- `anthropic/claude-3.5-sonnet` - –û—Ç–ª–∏—á–Ω–æ –ø–æ–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç
- `anthropic/claude-3-opus` - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- `anthropic/claude-3-haiku` - –ë—ã—Å—Ç—Ä–∞—è –∏ –¥–µ—à–µ–≤–∞—è

#### OpenAI
- `openai/gpt-4-turbo` - –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- `openai/gpt-4` - –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è GPT-4
- `openai/gpt-3.5-turbo` - –ë—ã—Å—Ç—Ä–∞—è –∏ –¥–µ—à–µ–≤–∞—è

#### –î—Ä—É–≥–∏–µ
- `google/gemini-pro-1.5` - –•–æ—Ä–æ—à–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
- `mistralai/mixtral-8x7b-instruct` - –ë—ã—Å—Ç—Ä–∞—è

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **API –∫–ª—é—á–∏ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**: –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ .env —Ñ–∞–π–ª –≤ Git
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞—Å—Ö–æ–¥–æ–≤**: –°–ª–µ–¥–∏—Ç–µ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
3. **–õ–∏–º–∏—Ç—ã**: –£ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –µ—Å—Ç—å rate limits
4. **Fallback**: –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Ollama –∫–∞–∫ –∑–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç

## üéì FAQ

**Q: –ö–∞–∫–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä –ª—É—á—à–µ –¥–ª—è –∫–∞–∑–∞—Ö—Å–∫–æ–≥–æ —è–∑—ã–∫–∞?**
A: Llama 3.1 70B/405B –æ—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∫–∞–∑–∞—Ö—Å–∫–∏–º. Claude 3.5 Sonnet —Ç–æ–∂–µ —Ö–æ—Ä–æ—à.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ?**
A: –°–µ–π—á–∞—Å –Ω–µ—Ç, –Ω–æ –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ .env.

**Q: –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å –¥–µ–Ω—å–≥–∏ –Ω–∞ —Å—á–µ—Ç—É?**
A: –°–∏—Å—Ç–µ–º–∞ –≤–µ—Ä–Ω–µ—Ç –æ—à–∏–±–∫—É. –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å –∏–ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ Ollama.

**Q: –°–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–Ω–æ —Å—Ç–æ–∏—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∞ 100 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤?**
A: –° Llama 3.1 70B (~10 —Å—Ç—Ä–∞–Ω–∏—Ü –∫–∞–∂–¥—ã–π): $0.20-0.60

**Q: –î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –æ–±–ª–∞–∫–æ?**
A: –î–∞, –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –æ–±–ª–∞—á–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤. –î–ª—è –ø–æ–ª–Ω–æ–π –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Ollama.

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- OpenRouter: https://openrouter.ai/docs
- OpenAI API: https://platform.openai.com/docs
- Groq: https://console.groq.com/docs
- Ollama: https://ollama.ai
